<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Placerly | Utilities account details</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet" />

  <style>
    body { background: #f8f9fa; }
    .card { border-radius: 12px; }
    .stat { font-size: 22px; font-weight: 700; }
    .subtitle { color: gray; }
    canvas { max-height: 320px; }
  </style>
</head>

<body>
<div class="container-fluid bg-dark text-white-50 py-2 px-0 d-none d-lg-block">
    <div class="d-flex justify-content-center">
      <div style="width: 300px">
        <!-- Display success message if available -->
        <% if (successMessage.length> 0) { %>
          <div class="toast-message toast-success">
            <span>
              <%= successMessage[0] %>
            </span>
            <button onclick="this.parentElement.remove()"><i class="fas fa-times"></i></button>
          </div>
          <% } %>

            <% if (errorMessage.length> 0) { %>
              <div class="toast-message toast-error">
                <span>
                  <%= errorMessage[0] %>
                </span>
                <button onclick="this.parentElement.remove()">âœ–</button>
              </div>
              <% } %>

      </div>
    </div>
      <div class="row gx-0 align-items-center">
        <div class="col-lg-7 px-5 text-start">
          <div class="h-100 d-inline-flex align-items-center me-4">
            <small class="fa fa-phone-alt me-2"></small>
            <small>+012 345 6789</small>
          </div>
          <div class="h-100 d-inline-flex align-items-center me-4">
            <small class="far fa-envelope-open me-2"></small>
            <small>info@example.com</small>
          </div>
          <div class="h-100 d-inline-flex align-items-center me-4">
            <small class="far fa-clock me-2"></small>
            <small>Mon - Fri : 09 AM - 09 PM</small>
          </div>
        </div>
        <div class="col-lg-5 px-5 text-end">
          <div class="h-100 d-inline-flex align-items-center">
            <a class="text-white-50 ms-4" href=""
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a class="text-white-50 ms-4" href=""
              ><i class="fab fa-twitter"></i
            ></a>
            <a class="text-white-50 ms-4" href=""
              ><i class="fab fa-linkedin-in"></i
            ></a>
            <a class="text-white-50 ms-4" href=""
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
      </div>
    </div>
  <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top px-4 px-lg-5">
    <a href="<%=generateUrl('user.home')%>" class="navbar-brand d-flex align-items-center">
      <h1 class="m-0">
        <img class="img-fluid me-3" src="/images/icon/icon-02-primary.png" alt="" />Placerly
      </h1>
    </a>
    <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <div class="navbar-nav mx-auto bg-light rounded pe-4 py-3 py-lg-0">
        <a href="about.html" class="nav-item nav-link">About Us</a>
        <a href="service.html" class="nav-item nav-link">Faqs</a>
        <a href="service.html" class="nav-item nav-link">Blogs</a>
        <a href="<%=generateUrl('user.subscription.page')%>" class="nav-item nav-link">Subscription Plan</a>
      </div>
    </div>
    
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fas fa-user-circle"></i> Profile
        </button>

        <ul class="dropdown-menu dropdown-menu-end">
          <li>
            <a href="<%= generateUrl('user.details') %>" class="dropdown-item">
              <i class="fas fa-id-badge"></i> Profile Details
            </a>
          </li>

          <li>
            <a href="<%= generateUrl('user.updatepassword.page') %>" class="dropdown-item">
              <i class="fas fa-key"></i> Update Password
            </a>
          </li>

          <li>
            <a href="<%=generateUrl('user.support.page')%>" class="dropdown-item">
              <i class="fas fa-sms"></i> Help & Support
            </a>
          </li>

          <li>
            <hr class="dropdown-divider">
          </li>

          <li>
            <form action="<%=generateUrl('user.logout')%>" method="POST" class="m-0">
              <button type="submit" class="dropdown-item text-danger">
                <i class="fas fa-sign-out-alt"></i> Logout
              </button>
            </form>
          </li>
        </ul>
      </div>
  </nav>
<div class="container py-4">

  <h2 class="fw-bold mb-4">Utility Overview Dashboard</h2>

  <!-- MASTER GRAPH -->
  <div class="card mb-4">
    <div class="card-body">
      <h5 class="fw-bold mb-2">Utility Account Growth</h5>
      <canvas id="utilityLineChart"></canvas>
    </div>
  </div>

  <!-- SUMMARY CARDS -->
  <div class="row mb-4">

    <div class="col-md-3">
      <div class="card text-center p-3 shadow">
        <div class="subtitle">Total Accounts</div>
        <div class="stat">8</div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card text-center p-3 shadow">
        <div class="subtitle">Energy Providers</div>
        <div class="stat">5</div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card text-center p-3 shadow">
        <div class="subtitle">Water Providers</div>
        <div class="stat">3</div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card text-center p-3 shadow">
        <div class="subtitle">Active Accounts</div>
        <div class="stat">7</div>
      </div>
    </div>

  </div>

  <!-- PIE & TABLE -->
  <div class="row">

    <!-- PIE -->
    <div class="col-md-4">
      <div class="card p-3 shadow">
        <h6 class="fw-bold">Utility Distribution</h6>
        <canvas id="utilityPieChart"></canvas>
      </div>
    </div>

    <!-- TABLE -->
    <div class="col-md-8">
      <div class="card shadow">
        <div class="card-body">

          <h6 class="fw-bold mb-3">Utility Accounts</h6>

          <table class="table table-hover align-middle">
            <thead class="table-light">
              <tr>
                <th>#</th>
                <th>Provider</th>
                <th>Type</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>

              <tr>
                <td>1</td>
                <td>British Gas</td>
                <td>Energy</td>
                <td><span class="badge bg-success">Active</span></td>
              </tr>

              <tr>
                <td>2</td>
                <td>EDF Energy</td>
                <td>Energy</td>
                <td><span class="badge bg-success">Active</span></td>
              </tr>

              <tr>
                <td>3</td>
                <td>Octopus Energy</td>
                <td>Energy</td>
                <td><span class="badge bg-success">Active</span></td>
              </tr>

              <tr>
                <td>4</td>
                <td>Scottish Power</td>
                <td>Energy</td>
                <td><span class="badge bg-danger">Inactive</span></td>
              </tr>

              <tr>
                <td>5</td>
                <td>Shell Energy</td>
                <td>Energy</td>
                <td><span class="badge bg-success">Active</span></td>
              </tr>

              <tr>
                <td>6</td>
                <td>Thames Water</td>
                <td>Water</td>
                <td><span class="badge bg-success">Active</span></td>
              </tr>

              <tr>
                <td>7</td>
                <td>Yorkshire Water</td>
                <td>Water</td>
                <td><span class="badge bg-success">Active</span></td>
              </tr>

              <tr>
                <td>8</td>
                <td>Southern Water</td>
                <td>Water</td>
                <td><span class="badge bg-danger">Inactive</span></td>
              </tr>

            </tbody>
          </table>

        </div>
      </div>
    </div>

  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

<script>

new Chart(document.getElementById("utilityPieChart"), {
  type: "doughnut",
  data: {
    labels: ["Energy Accounts", "Water Accounts"],
    datasets: [{
      data: [5, 3]
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { position: "bottom" }
    }
  }
});


new Chart(document.getElementById("utilityLineChart"), {
  type: "line",
  data: {
    labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun"],
    datasets: [{
      label: "Utility Accounts",
      data: [1, 2, 4, 5, 7, 8],
      tension: 0.4,
      fill: true,
      borderWidth: 3,
      pointRadius: 4
    }]
  },
  options: {
    responsive: true,
    scales: {
      y: { beginAtZero: true }
    }
  }
});

</script>

</body>
</html>
